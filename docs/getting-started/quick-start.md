# 🚀 クイックスタートガイド

## ⚠️ 重要: 502 Bad Gatewayエラーの解決

現在、Vercel Devとproxy.jsの競合により502エラーが発生しています。

### 推奨: 本番環境でテスト

開発環境の問題を回避するため、本番環境にデプロイしてテストすることを強く推奨します。

## 本番デプロイ手順

### 1. ビルド
```bash
npm run build
```

### 2. Vercelにデプロイ
```bash
npx vercel --prod
```

### 3. 環境変数設定
Vercelダッシュボードで以下を設定：
- `GEMINI_API_KEY`
- `GOOGLE_CREDENTIALS`

## ローカル開発（代替方法）

### オプション1: Viteのみ使用（APIモック）
フロントエンドの開発に集中する場合：
```bash
npm run dev
```
※ APIは動作しません

### オプション2: mock-server.jsを使用
```bash
node mock-server.js
```
既存のモックサーバーがポート3000でAPIをエミュレートします。

別のターミナルで：
```bash
npm run dev
```

## 詳細分析機能のテスト

本番環境で以下の手順：

1. **比較分析を実行**
   - サイトURL、期間を入力
   - 「分析を開始」をクリック

2. **詳細分析セクションへ移動**
   - ページ下部の「さらに詳しく分析する」セクション

3. **分析設定**
   - 「⚙️ 分析設定」をクリック
   - ブランドキーワード設定
   - 事業キーワード除外設定

4. **分析実行**
   - 「📊 詳細を統計分析」: 即座に結果表示
   - 「🤖 詳細をAI分析」: 1-2分で結果表示
   - 「両方実行」: 統計 + AI分析

## 作成したAPI

- `/api/detailed-analysis` - 統計分析
  - クラスタリング（k-means）
  - 相関分析
  - 加速度分析
  - セグメント比較

- `/api/ai-analysis` - Gemini AI分析
  - 検索意図分類
  - 自動カテゴリ分類
  - クラスタ解釈

## トラブルシューティング

### ローカルでの502エラー
**原因:** Vercel Devとproxy.jsの競合

**解決:** 本番環境でテストしてください
```bash
npm run build
npx vercel --prod
```

### 本番環境でのエラー
1. 環境変数が設定されているか確認
2. `vercel.json`に全APIルートが含まれているか確認
3. Vercelのログを確認
